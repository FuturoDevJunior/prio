(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4273:function(e,t,r){Promise.resolve().then(r.bind(r,6859))},6859:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(7437),s=r(605),a=r(4370),i=r(5933),c=r(5759),o=r(1178),l=r(2265);function d(){(0,c.l)("/dashboard",!0);let{status:e}=(0,s.useSession)(),{nextAuthSecret:t,isLoading:r}=function(){let[e,t]=(0,l.useState)(null),[r,n]=(0,l.useState)(!0),[s,a]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async function(){try{let e=await fetch("/api/auth/check-config");if(!e.ok)throw Error("Failed to fetch config");let{nextAuthSecret:r}=await e.json();t(r)}catch(e){a(e.message)}finally{n(!1)}})()},[]),{nextAuthSecret:e,isLoading:r,error:s}}(),{providers:d,isLoading:u}=function(){let[e,t]=(0,l.useState)([]),[r,n]=(0,l.useState)(!0),[s,a]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async function(){try{let e=await fetch("/api/auth/providers");if(!e.ok)throw Error("Failed to fetch providers");let r=await e.json();t(Object.values(r))}catch(e){a(e.message)}finally{n(!1)}})()},[]),{providers:e,isLoading:r,error:s}}(),f={github:(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M12 0C5.37 0 0 5.373 0 12c0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.627-5.373-12-12-12z",clipRule:"evenodd"})}),discord:(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,n.jsx)("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"})})};return"loading"===e||r||u?(0,n.jsx)(o.T,{}):"authenticated"===e?null:(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,n.jsxs)(a.Zb,{className:"w-full max-w-md",children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{className:"text-2xl font-bold text-center",children:t?0===d.length?"No providers configured":"Login":"NEXTAUTH_SECRET not configured"})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)("div",{className:"text-center",children:t?0===d.length?(0,n.jsxs)("div",{className:"mb-4 text-left",children:[(0,n.jsxs)("p",{className:"mt-2",children:["Configure authentication providers by setting ",(0,n.jsx)("code",{className:"bg-gray-200 p-1 rounded",children:"CLIENT_SECRET"})," and ",(0,n.jsx)("code",{className:"bg-gray-200 p-1 rounded",children:"CLIENT_ID"})," in your ",(0,n.jsx)("code",{className:"bg-gray-200 p-1 rounded",children:".env"})," file."]}),(0,n.jsx)("p",{className:"mt-4 text-sm",children:"For example:"}),(0,n.jsx)("pre",{className:"bg-gray-100 p-2 mt-2 rounded text-sm overflow-x-auto whitespace-pre-wrap",children:(0,n.jsx)("code",{className:"block",children:"GITHUB_CLIENT_ID=your_github_client_id GITHUB_CLIENT_SECRET=your_github_client_secret"})}),(0,n.jsx)("p",{className:"mt-4 text-sm",children:(0,n.jsx)("a",{href:"https://github.com/redis-developer/session-store-nextjs?tab=readme-ov-file#provider-specific-configuration",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"See docs for details on setting up providers"})}),(0,n.jsx)("p",{className:"mt-4 text-sm text-yellow-600",children:"Note: You may need to redeploy your app after setting environment variables."})]}):d.map(e=>(0,n.jsxs)(i.z,{onClick:()=>(0,s.signIn)(e.id),variant:"outline",className:"w-full mb-2",children:[f[e.id.toLowerCase()]||null,"Login with ",e.name]},e.id)):(0,n.jsxs)("div",{className:"mb-4 text-left",children:[(0,n.jsxs)("p",{className:"mt-2",children:["Set ",(0,n.jsx)("code",{className:"bg-gray-200 p-1 rounded",children:"NEXTAUTH_SECRET"})," in your ",(0,n.jsx)("code",{className:"bg-gray-200 p-1 rounded",children:".env"})," file."]}),(0,n.jsx)("p",{className:"mt-4 text-sm",children:"For example:"}),(0,n.jsx)("pre",{className:"bg-gray-100 p-2 mt-2 rounded text-sm overflow-x-auto whitespace-pre-wrap",children:(0,n.jsx)("code",{className:"block",children:"NEXTAUTH_SECRET=your_generated_secret"})}),(0,n.jsxs)("p",{className:"mt-4 text-sm",children:["Generate a secure secret using:",(0,n.jsx)("pre",{className:"bg-gray-100 p-2 mt-2 rounded text-sm overflow-x-auto",children:(0,n.jsx)("code",{children:"openssl rand -base64 32"})})]}),(0,n.jsx)("p",{className:"mt-4 text-sm text-yellow-600",children:"Note: You may need to redeploy your app after setting environment variables."})]})})})]})})}},1178:function(e,t,r){"use strict";r.d(t,{T:function(){return i}});var n=r(7437),s=r(7062);function a(e){let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-primary/10",t),...r})}function i(){return(0,n.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,n.jsx)(a,{className:"h-12 w-12 rounded-full"})})}},5933:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(7437),s=r(2265),a=r(7053),i=r(7712),c=r(7062);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,n.jsx)(u,{className:(0,c.cn)(o({variant:s,size:i,className:r})),ref:t,...d})});l.displayName="Button"},4370:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},Zb:function(){return i},aY:function(){return l},ll:function(){return o}});var n=r(7437),s=r(2265),a=r(7062);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});i.displayName="Card";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});c.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});l.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},5759:function(e,t,r){"use strict";r.d(t,{l:function(){return i}});var n=r(605),s=r(9376),a=r(2265);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/dashboard",t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{status:r}=(0,n.useSession)(),i=(0,s.useRouter)();(0,a.useEffect)(()=>{"loading"===r||(t&&"authenticated"===r?i.replace(e):t||"unauthenticated"!==r||i.replace(e))},[r,i,e,t])}},7062:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(1994),s=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}}},function(e){e.O(0,[605,628,971,117,744],function(){return e(e.s=4273)}),_N_E=e.O()}]);